<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>AA Meetings in Manhattan</title>
    <style>
        html,
        body,
        #map-canvas {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #firstHeading {
            font-size: 100%;
        }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDs3nRzIUdZdSTlypvXwyvjE8DlqyBix2Q&v=3.exp&signed_in=true"></script>
    <script>
        var latNow = 40.736354;
        var longNow = -73.999175;
        function initialize() {
            var mapOptions = {
                zoom: 13,
                center: new google.maps.LatLng(latNow, longNow)
            }
            var map = new google.maps.Map(document.getElementById('map-canvas'),
                mapOptions);
            setMarkers(map, meetings);
        }

var meetings = 
[{ _id: "5ab876af33f3cab01558465b", address: "48 E 80th St, New York, NY 10075, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7766859, long: -73.9613107 },
{ _id: "5ab876af33f3cab015584663", address: "520 Park Ave, New York, NY 10065, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7639511, long: -73.9697422 },
{ _id: "5ab876af33f3cab01558468c", address: "420 E 76th St, New York, NY 10021, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7697347, long: -73.9530882 },
{ _id:"5ab876af33f3cab01558468e", address: "420 E 76th St, New York, NY 10021, USA", startTime: "8:30 PM", finishTime: "9:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7697347, long: -73.9530882 },
{ _id:"5ab876af33f3cab01558469c", address: "48 E 84th St, New York, NY 10028, USA", startTime: "7:45 PM", finishTime: "8:45 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7790809, long: -73.9592644 },
{ _id:"5ab876af33f3cab0155846ac", address: "62 E 92nd St, New York, NY 10128, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7841247, long: -73.9551316 },
{ _id:"5ab876af33f3cab0155846e9", address: "413 E 79th St, New York, NY 10075, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.77220070000001, long: -73.9517106 },
{ _id:"5ab876af33f3cab0155846f9", address: "341 E 87th St, New York, NY 10128, USA", startTime: "7:15 PM", finishTime: "8:15 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7780468, long: -73.94968999999999 },
{ _id:"5ab876af33f3cab0155846fb", address: "341 E 87th St, New York, NY 10128, USA", startTime: "8:30 PM", finishTime: "9:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7780468, long: -73.94968999999999 },
{ _id:"5ab876af33f3cab01558471c", address: "219 W 132nd St, New York, NY 10027, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.8139069, long: -73.9458786 },
{ _id:"5ab876af33f3cab01558472a", address: "2126 2nd Ave, New York, NY 10029, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.792688, long: -73.9406434 },
{ _id:"5ab876af33f3cab015584742", address: "35 Thayer St, New York, NY 10040, USA", startTime: "8:00 PM", finishTime: "10:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.8626564, long: -73.926177 },
{ _id:"5ab876af33f3cab015584745", address: "715 W 179th St, New York, NY 10033, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.8493774, long: -73.9382783 },
{ _id:"5ab876af33f3cab015584748", address: "715 W 179th St, New York, NY 10033, USA", startTime: "9:30 PM", finishTime: "10:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.8493774, long: -73.9382783 },
{ _id:"5ab876af33f3cab01558474a", address: "502 W 165th St, New York, NY 10032, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.8380556, long: -73.93891789999999 },
{ _id:"5ab876af33f3cab015584759", address: "715 W 179th St, New York, NY 10033, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.8493774, long: -73.9382783 },
{ _id:"5ab876af33f3cab01558429f", address: "49 Fulton St, New York, NY 10038, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7082017, long: -74.0038005 },
{ _id:"5ab876af33f3cab0155842a5", address: "283 W Broadway, New York, NY 10013, USA", startTime: "7:45 PM", finishTime: "8:45 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7208017, long: -74.0048389 },
{ _id:"5ab876af33f3cab0155842d8", address: "49 Fulton St, New York, NY 10038, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7082017, long: -74.0038005 },
{ _id:"5ab876af33f3cab0155842de", address: "283 W Broadway, New York, NY 10013, USA", startTime: "7:45 PM", finishTime: "8:45 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7208017, long: -74.0048389 },
{ _id:"5ab876af33f3cab0155842e8", address: "487 Hudson St, New York, NY 10014, USA", startTime: "7:15 PM", finishTime: "8:15 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7325862, long: -74.0067038 },
{ _id:"5ab876af33f3cab0155842ed", address: "292 Henry St, New York, NY 10002, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.71371430000001, long: -73.983033 },
{ _id:"5ab876af33f3cab0155842f1", address: "141 Henry St, New York, NY 10002, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7134775, long: -73.9906663 },
{ _id:"5ab876af33f3cab015584317", address: "220 W Houston St, New York, NY 10014, USA", startTime: "8:00 PM", finishTime: "9:15 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7287585, long: -74.00455800000002 },
{ _id:"5ab876af33f3cab015584351", address: "50 Perry St, New York, NY 10014, USA", startTime: "8:30 PM", finishTime: "9:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7355145, long: -74.0031001 },
{ _id:"5ab876af33f3cab015584374", address: "81 Christopher St, New York, NY 10014, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7337412, long: -74.0036168 },
{ _id:"5ab876af33f3cab015584397", address: "50 E 7th St, New York, NY 10003, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7275596, long: -73.98766309999999 },
{ _id:"5ab876af33f3cab01558439b", address: "50 E 7th St, New York, NY 10003, USA", startTime: "7:00 PM", finishTime: "8:15 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7275596, long: -73.98766309999999 },
{ _id:"5ab876af33f3cab01558439c", address: "50 E 7th St, New York, NY 10003, USA", startTime: "8:30 PM", finishTime: "9:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7275596, long: -73.98766309999999 },
{ _id:"5ab876af33f3cab0155843ad", address: "Church of Our Lady of Guadalupe, 229 W 14th St, New York, NY 10011, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7393831, long: -74.0007935 },
{ _id:"5ab876af33f3cab0155843b0", address: "28 Gramercy Park S, New York, NY 10003, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7370179, long: -73.9853445 },
{ _id:"5ab876af33f3cab0155843c5", address: "80 St Marks Pl, New York, NY 10003, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7276628, long: -73.9857399 },
{ _id:"5ab876af33f3cab0155843ca", address: "155 E 22nd St, New York, NY 10010, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7385282, long: -73.9840629 },
{ _id:"5ab876af33f3cab0155843e3", address: "19 Union Square W, New York, NY 10003, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7361079, long: -73.991242 },
{ _id:"5ab876af33f3cab0155843f4", address: "12 W 12th St, New York, NY 10011, USA", startTime: "7:15 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7347542, long: -73.9950052 },
{ _id:"5ab876af33f3cab015584402", address: "10 Union Square E, New York, NY 10003, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.734866, long: -73.9896604 },
{ _id:"5ab876af33f3cab015584405", address: "206 E 11th St, New York, NY 10003, USA", startTime: "9:00 PM", finishTime: "10:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7310649, long: -73.988007 },
{ _id:"5ab876af33f3cab015584443", address: "411 E 12th St, New York, NY 10009, USA", startTime: "8:30 PM", finishTime: "9:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7298724, long: -73.9827759 },
{ _id:"5ab876af33f3cab01558444f", address: "208 W 13th St, New York, NY 10011, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.738087, long: -74.001046 },
{ _id:"5ab876af33f3cab015584451", address: "602 E 9th St, New York, NY 10009, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7260261, long: -73.9801845 },
{ _id:"5ab876af33f3cab015584464", address: "303 W 42nd St, New York, NY 10036, USA", startTime: "9:15 PM", finishTime: "10:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7576608, long: -73.9900505 },
{ _id:"5ab876af33f3cab01558448f", address: "446 West 33rd Street, New York, NY 10001, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7533175, long: -73.9989001 },
{ _id:"5ab876af33f3cab015584490", address: "252 W 46th St, New York, NY 10036, USA", startTime: "9:15 PM", finishTime: "10:15 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7593233, long: -73.9872843 },
{ _id:"5ab876af33f3cab0155844cf", address: "303 W 42nd St, New York, NY 10036, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7576608, long: -73.9900505 },
{ _id:"5ab876af33f3cab01558450a", address: "484 W 43rd St, New York, NY 10036, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.759952, long: -73.9947467 },
{ _id:"5ab876af33f3cab01558451d", address: "252 W 46th St, New York, NY 10036, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7593233, long: -73.9872843 },
{ _id:"5ab876af33f3cab0155845a7", address: "122 E 37th St, New York, NY 10016, USA", startTime: "8:00 PM", finishTime: "9:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.748313, long: -73.9788477 },
{ _id:"5ab876af33f3cab0155845cf", address: "221 W 107th St, New York, NY 10025, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.8018543, long: -73.9663128 },
{ _id:"5ab876af33f3cab0155845d5", address: "Central Park West Trails, 1195 Central Park Dr W, Carmel, IN 46032, USA", startTime: "8:15 PM", finishTime: "9:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 39.9511147, long: -86.1378288 },
{ _id:"5ab876af33f3cab015584612", address: "125 W 104th St, New York, NY 10025, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7986987, long: -73.96486639999999 },
{ _id:"5ab876af33f3cab015584627", address: "368 West End Ave, New York, NY 10024, USA", startTime: "7:30 PM", finishTime: "8:30 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7831667, long: -73.98154819999999 },
{ _id:"5ab876af33f3cab015584638", address: "164 W 74th St, New York, NY 10023, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.7794941, long: -73.98022519999999 },
{ _id:"5ab876af33f3cab01558464a", address: "263 W 86th St, New York, NY 10024, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.78896770000001, long: -73.9772637 },
{ _id:"5ab876af33f3cab01558464b", address: "263 W 86th St, New York, NY 10024, USA", startTime: "7:00 PM", finishTime: "8:00 PM", AMPM: "PM", weekDay: "Tuesdays", lat: 40.78896770000001, long: -73.9772637 }];
    
         

        function setMarkers(map, locations) {
            // Add markers to the map
            var infowindow = new google.maps.InfoWindow({
                maxWidth: 300
            });
            for (var i = 0; i < meetings.length; i++) {
                var meeting = meetings[i];
                var myLatLng = new google.maps.LatLng(meeting.lat, meeting.long);

            function makeContent(cont) {
            var contentHolder = '<div id="content">' + '</div>';
                contentHolder = contentHolder + '<h4>' + meetings[i].address + '</h4>' +  
                'from ' + meetings[i].startTime + ' to ' + meetings[i].finishTime + ' on ' +  meetings[i].weekDay;
                return contentHolder; 
            } 

                var contentWindow = makeContent(meetings[i]);
                var marker = new google.maps.Marker({
                    position: myLatLng,
                    map: map,
                    title: "Click for meeting address and time",
                    content: contentWindow,
                });
                google.maps.event.addListener(marker, 'click', function() {
                    infowindow.setContent(this.content);
                    infowindow.open(map, this);
                });
            }
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>

<body>
<div id="map-canvas"></div>
</body>

</html>