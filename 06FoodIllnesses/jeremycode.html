<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="http://www.bloomberg.com/graphics/assets/img/favicon.png" type="image/x-icon">

    <style type="text/css">
    /*
    styles for this project
    */
    </style>
</head>



<body>

    <script src="http://www.bloomberg.com/graphics/assets/js/vendor/d3.3.5.3.js?"></script>
    <script src="http://www.bloomberg.com/graphics/assets/js/vendor/queue.v1.min.js?"></script>

    <script type="text/javascript">
    
    queue()
        .defer(d3.csv, "Food Vehicle Data Summarized.csv")
        .await(init)

    function init(err, foodata){

        var year = "2014"
        var FIPS = null
        
        var yearsdata = foodata.filter(function(d){
            var test1 = d.Year == year 
            var test2 = FIPS == null ? true : d.FIPS == FIPS
            return test1 && test2
        })

        var foodnest = d3.nest()
            .key(function(d){ return d['Level 1'] })
            .key(function(d){ return d['Level 2'] })
            .key(function(d){ return d['Level 3'] })
            .rollup(function(leaves){ return leaves.length })
            .entries(yearsdata)

    }

    </script>



</body>

</html>
